<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#0d2818">
<title>Masters Augusta 2025 ¬∑ GDF</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&family=EB+Garamond:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --green-deep: #0d2818;
  --green-dark: #1a3d28;
  --green-mid: #2a5a3a;
  --green-light: #3d7a50;
  --gold: #c9a84c;
  --gold-light: #e8c96a;
  --gold-pale: #f0d98a;
  --cream: #f5f0e8;
  --cream-dark: #e8e0d0;
  --text: #f5f0e8;
  --text-muted: #a8c4a8;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: 'EB Garamond', Georgia, serif;
  background: var(--green-deep);
  color: var(--text);
  min-height: 100vh;
  background-image: 
    radial-gradient(ellipse at 20% 50%, rgba(42,90,58,0.15) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 20%, rgba(201,168,76,0.05) 0%, transparent 50%);
}

/* SCREENS */
.screen { display: none; min-height: 100vh; flex-direction: column; opacity: 0; transition: opacity 0.4s; }
.screen.active { display: flex; }
.screen.visible { opacity: 1; }

/* HEADER */
.header {
  background: linear-gradient(180deg, #0a1f12 0%, var(--green-dark) 100%);
  padding: 24px 20px 20px;
  text-align: center;
  border-bottom: 1px solid rgba(201,168,76,0.3);
  position: relative;
  overflow: hidden;
}
.header::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}
.header::after {
  content: '';
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(201,168,76,0.5), transparent);
}
.logo-container { margin-bottom: 12px; }
.logo-img { width: 60px; height: 60px; object-fit: contain; filter: drop-shadow(0 2px 8px rgba(201,168,76,0.4)); }
.header h1 {
  font-family: 'Cormorant Garamond', serif;
  font-size: 26px;
  font-weight: 600;
  color: var(--gold);
  letter-spacing: 3px;
  text-transform: uppercase;
}
.header-sub {
  font-family: 'Cormorant Garamond', serif;
  font-size: 13px;
  color: var(--text-muted);
  letter-spacing: 2px;
  margin-top: 4px;
  font-style: italic;
}
.header-divider {
  width: 60px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  margin: 10px auto 0;
}

/* CONTENT */
.content { flex: 1; padding: 24px 20px; max-width: 480px; margin: 0 auto; width: 100%; }

/* BUTTONS */
.btn {
  display: block; width: 100%;
  padding: 14px 20px;
  border: none; border-radius: 2px;
  font-family: 'Cormorant Garamond', serif;
  font-size: 16px; font-weight: 600;
  letter-spacing: 1.5px; text-transform: uppercase;
  cursor: pointer; transition: all 0.3s;
  position: relative; overflow: hidden;
}
.btn::after {
  content: '';
  position: absolute;
  top: 50%; left: 50%;
  width: 0; height: 0;
  background: rgba(255,255,255,0.1);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.4s, height 0.4s;
}
.btn:active::after { width: 200px; height: 200px; }
.btn-gold {
  background: linear-gradient(135deg, var(--gold), var(--gold-light));
  color: var(--green-deep);
}
.btn-gold:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(201,168,76,0.35); }
.btn-outline {
  background: transparent;
  border: 1px solid rgba(201,168,76,0.5);
  color: var(--gold);
}
.btn-outline:hover { border-color: var(--gold); background: rgba(201,168,76,0.05); }
.btn-ghost {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.1);
  color: var(--text-muted);
  font-size: 13px;
}
.btn-danger { background: rgba(139,32,32,0.8); border: 1px solid rgba(220,80,80,0.3); color: #f0a0a0; }
.btn-success { background: rgba(26,74,42,0.8); border: 1px solid rgba(79,200,112,0.3); color: #80e0a0; }

/* INPUTS */
.input-group { margin-bottom: 16px; }
.input-label {
  display: block;
  font-family: 'Cormorant Garamond', serif;
  font-size: 12px; letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: 8px;
}
input[type=text], input[type=password] {
  width: 100%; padding: 14px 16px;
  border: 1px solid rgba(201,168,76,0.2);
  border-radius: 2px;
  background: rgba(26,61,40,0.5);
  color: var(--text);
  font-family: 'EB Garamond', serif;
  font-size: 16px;
  outline: none;
  transition: all 0.3s;
  backdrop-filter: blur(4px);
}
input[type=text]:focus, input[type=password]:focus {
  border-color: rgba(201,168,76,0.6);
  background: rgba(26,61,40,0.7);
  box-shadow: 0 0 0 3px rgba(201,168,76,0.08);
}
input::placeholder { color: rgba(168,196,168,0.4); }

/* CARDS */
.card {
  background: rgba(26,61,40,0.4);
  border: 1px solid rgba(201,168,76,0.15);
  border-radius: 2px;
  padding: 20px;
  margin-bottom: 16px;
  backdrop-filter: blur(4px);
  position: relative;
}
.card::before {
  content: '';
  position: absolute;
  top: 0; left: 20px; right: 20px;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(201,168,76,0.3), transparent);
}
.card-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 12px; letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--gold);
  margin-bottom: 14px;
}

/* CHAPEAU */
.chapeau-header {
  display: flex; align-items: center; gap: 12px;
  margin-bottom: 16px;
}
.chapeau-num {
  width: 36px; height: 36px;
  border: 1px solid var(--gold);
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Cormorant Garamond', serif;
  font-size: 18px; font-weight: 600;
  color: var(--gold);
  flex-shrink: 0;
}
.chapeau-info h3 {
  font-family: 'Cormorant Garamond', serif;
  font-size: 18px; font-weight: 600;
  color: var(--text);
}
.chapeau-info p { font-size: 13px; color: var(--text-muted); font-style: italic; }

/* JOUEURS GRID */
.joueurs-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.joueur-btn {
  padding: 10px 8px;
  border: 1px solid rgba(201,168,76,0.15);
  border-radius: 2px;
  background: rgba(13,40,24,0.6);
  color: var(--cream-dark);
  font-family: 'EB Garamond', serif;
  font-size: 13px;
  cursor: pointer; transition: all 0.2s;
  text-align: center; line-height: 1.3;
}
.joueur-btn:hover { border-color: rgba(201,168,76,0.4); background: rgba(26,61,40,0.8); }
.joueur-btn.selected {
  background: linear-gradient(135deg, rgba(201,168,76,0.25), rgba(201,168,76,0.15));
  border-color: var(--gold);
  color: var(--gold-pale);
  font-weight: 500;
}
.joueur-btn.disabled { opacity: 0.35; cursor: not-allowed; }

/* STEPS */
.step-indicator { display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 24px; }
.step-dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(201,168,76,0.2); transition: all 0.3s; }
.step-dot.active { background: var(--gold); transform: scale(1.4); }
.step-dot.done { background: rgba(201,168,76,0.6); }
.step-line { width: 20px; height: 1px; background: rgba(201,168,76,0.2); }

/* CLASSEMENT */
.rank-item {
  display: flex; align-items: center; gap: 14px;
  padding: 14px 16px;
  background: rgba(26,61,40,0.3);
  border: 1px solid rgba(201,168,76,0.1);
  border-radius: 2px;
  margin-bottom: 6px;
  cursor: pointer;
  transition: all 0.2s;
}
.rank-item:hover { background: rgba(26,61,40,0.5); border-color: rgba(201,168,76,0.25); }
.rank-num {
  font-family: 'Cormorant Garamond', serif;
  font-size: 20px; font-weight: 600;
  color: var(--text-muted);
  width: 28px; text-align: center; flex-shrink: 0;
}
.rank-num.gold { color: #FFD700; }
.rank-num.silver { color: #C0C0C0; }
.rank-num.bronze { color: #CD7F32; }
.rank-info { flex: 1; }
.rank-name { font-family: 'Cormorant Garamond', serif; font-size: 17px; font-weight: 600; }
.rank-joueurs { font-size: 12px; color: var(--text-muted); margin-top: 2px; font-style: italic; }
.rank-score { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 700; flex-shrink: 0; }
.neg { color: #5dd880; } .pos { color: #e07070; } .even { color: var(--cream); }

/* DETAIL */
.participant-detail {
  background: rgba(13,40,24,0.5);
  border: 1px solid rgba(201,168,76,0.1);
  border-top: none;
  border-radius: 0 0 2px 2px;
  padding: 12px;
  margin-top: -6px; margin-bottom: 6px;
  display: none;
}
.participant-detail.open { display: block; }
.detail-row {
  display: flex; justify-content: space-between; align-items: center;
  padding: 7px 0;
  border-bottom: 1px solid rgba(201,168,76,0.06);
  font-size: 13px;
}
.detail-row:last-child { border-bottom: none; }
.best4-name { color: var(--gold-pale); }
.best4-star { color: var(--gold); margin-right: 4px; font-size: 10px; }

/* TABS */
.tabs {
  display: flex;
  border-bottom: 1px solid rgba(201,168,76,0.2);
  margin-bottom: 20px; gap: 0;
}
.tab {
  flex: 1; padding: 10px 4px;
  text-align: center;
  font-family: 'Cormorant Garamond', serif;
  font-size: 13px; letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--text-muted);
  cursor: pointer; transition: all 0.2s;
  border-bottom: 2px solid transparent;
  margin-bottom: -1px;
}
.tab.active { color: var(--gold); border-bottom-color: var(--gold); }

/* SCORE ITEM */
.score-item {
  display: flex; justify-content: space-between; align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid rgba(201,168,76,0.06);
  cursor: pointer; transition: all 0.2s;
}
.score-item:hover { padding-left: 4px; }
.score-item:last-child { border-bottom: none; }

/* MSG */
.msg {
  padding: 12px 16px;
  border-radius: 2px;
  margin-bottom: 14px;
  font-size: 14px;
  font-style: italic;
  text-align: center;
}
.msg.success { background: rgba(26,74,42,0.5); border: 1px solid rgba(79,200,112,0.3); color: #80e0a0; }
.msg.error { background: rgba(74,26,26,0.5); border: 1px solid rgba(220,80,80,0.3); color: #e09090; }
.msg.info { background: rgba(26,42,74,0.5); border: 1px solid rgba(74,144,200,0.3); color: #90b8e0; }

/* BADGES */
.live-badge {
  display: inline-block;
  background: rgba(220,60,60,0.8);
  color: white; padding: 2px 8px;
  border-radius: 1px;
  font-family: 'Cormorant Garamond', serif;
  font-size: 10px; letter-spacing: 2px;
  text-transform: uppercase;
  margin-left: 8px;
  animation: pulse 2s infinite;
}
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.6} }

.refresh-info {
  font-size: 11px; font-style: italic;
  color: var(--text-muted);
  text-align: center; margin-bottom: 14px;
  letter-spacing: 0.5px;
}

/* ORNEMENT */
.ornement {
  text-align: center; color: var(--gold);
  font-size: 18px; opacity: 0.4;
  margin: 12px 0; letter-spacing: 6px;
}
.divider {
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(201,168,76,0.3), transparent);
  margin: 16px 0;
}

/* EDIT BANNER */
.edit-banner {
  background: rgba(26,42,74,0.4);
  border: 1px solid rgba(74,144,200,0.3);
  border-radius: 2px; padding: 10px 14px;
  margin-bottom: 16px;
  display: flex; justify-content: space-between; align-items: center;
  font-size: 13px; font-style: italic; color: #90b8e0;
}

/* PLAYER MODAL */
.player-modal {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.85);
  z-index: 1000;
  display: flex; align-items: flex-end; justify-content: center;
  animation: fadeIn 0.25s;
}
@keyframes fadeIn { from{opacity:0} to{opacity:1} }
.player-sheet {
  background: linear-gradient(180deg, #1a3d28 0%, #0d2818 100%);
  border-top: 1px solid rgba(201,168,76,0.3);
  border-radius: 12px 12px 0 0;
  width: 100%; max-width: 480px;
  padding: 28px 24px;
  max-height: 85vh; overflow-y: auto;
  animation: slideUp 0.35s cubic-bezier(0.16,1,0.3,1);
  position: relative;
}
.player-sheet::before {
  content: '';
  position: absolute; top: 0; left: 60px; right: 60px;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}
@keyframes slideUp { from{transform:translateY(100%)} to{transform:translateY(0)} }
.player-header { display: flex; gap: 18px; align-items: center; margin-bottom: 22px; }
.player-photo {
  width: 80px; height: 80px; border-radius: 50%;
  object-fit: cover;
  border: 2px solid rgba(201,168,76,0.5);
  flex-shrink: 0;
}
.player-photo-placeholder {
  width: 80px; height: 80px; border-radius: 50%;
  border: 2px solid rgba(201,168,76,0.3);
  background: rgba(26,61,40,0.5);
  display: flex; align-items: center; justify-content: center;
  font-size: 30px; flex-shrink: 0;
}
.player-name-h { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 600; color: var(--gold); }
.player-name-sub { font-size: 13px; color: var(--text-muted); margin-top: 3px; font-style: italic; }
.player-stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 18px; }
.pstat {
  background: rgba(13,40,24,0.6);
  border: 1px solid rgba(201,168,76,0.12);
  border-radius: 2px; padding: 12px; text-align: center;
}
.pstat-val { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 600; color: var(--gold); }
.pstat-lbl { font-size: 11px; letter-spacing: 1px; text-transform: uppercase; color: var(--text-muted); margin-top: 2px; }
.player-bio { font-size: 14px; line-height: 1.8; color: var(--cream-dark); margin-bottom: 18px; font-style: italic; }
.palmares-item { display: flex; align-items: center; gap: 10px; padding: 8px 0; border-bottom: 1px solid rgba(201,168,76,0.08); font-size: 13px; }
.palmares-item:last-child { border-bottom: none; }
.player-close { position: absolute; top: 18px; right: 20px; background: none; border: none; color: var(--text-muted); font-size: 22px; cursor: pointer; transition: color 0.2s; }
.player-close:hover { color: var(--gold); }

/* NEWS */
.news-section-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 12px; letter-spacing: 2.5px;
  text-transform: uppercase; color: var(--text-muted);
  margin: 20px 0 10px;
  padding-bottom: 6px;
  border-bottom: 1px solid rgba(201,168,76,0.15);
}
.news-card {
  background: rgba(26,61,40,0.3);
  border: 1px solid rgba(201,168,76,0.1);
  border-radius: 2px; padding: 16px;
  margin-bottom: 10px; transition: all 0.2s;
}
.news-card:hover { background: rgba(26,61,40,0.5); }
.news-tag {
  display: inline-block; padding: 2px 8px;
  border-radius: 1px; font-size: 10px; letter-spacing: 1px;
  text-transform: uppercase; margin-bottom: 8px; margin-right: 4px;
}
.news-tag.masters { background: rgba(201,168,76,0.15); color: var(--gold); border: 1px solid rgba(201,168,76,0.3); }
.news-tag.pga { background: rgba(74,144,200,0.1); color: #90b8e0; border: 1px solid rgba(74,144,200,0.2); }
.news-tag.liv { background: rgba(200,74,74,0.1); color: #e09090; border: 1px solid rgba(200,74,74,0.2); }
.news-tag.rumeur { background: rgba(144,74,200,0.1); color: #c090e0; border: 1px solid rgba(144,74,200,0.2); }
.news-tag.stats { background: rgba(74,200,112,0.1); color: #80e0a0; border: 1px solid rgba(74,200,112,0.2); }
.news-card h4 { font-family: 'Cormorant Garamond', serif; font-size: 17px; font-weight: 600; color: var(--cream); margin-bottom: 8px; line-height: 1.4; }
.news-card p { font-size: 13px; line-height: 1.7; color: var(--cream-dark); font-style: italic; }
.typing-dots span { display: inline-block; animation: blink 1.4s infinite; font-size: 22px; color: var(--gold); }
.typing-dots span:nth-child(2) { animation-delay: .2s; }
.typing-dots span:nth-child(3) { animation-delay: .4s; }
@keyframes blink { 0%,80%,100%{opacity:0} 40%{opacity:1} }

/* ADMIN */
.admin-code-row {
  display: flex; align-items: center; gap: 8px;
  padding: 10px 0; border-bottom: 1px solid rgba(201,168,76,0.08);
  font-size: 14px;
}
.admin-code-row:last-child { border-bottom: none; }
.admin-code-row span { flex: 1; }
.code-badge {
  font-family: monospace; font-size: 13px;
  background: rgba(201,168,76,0.1);
  border: 1px solid rgba(201,168,76,0.2);
  padding: 3px 8px; border-radius: 2px;
  color: var(--gold);
}
.mt { margin-top: 12px; }
.nav-back { background: none; border: none; color: var(--text-muted); font-family: 'Cormorant Garamond', serif; font-size: 14px; letter-spacing: 1px; cursor: pointer; padding: 0; margin-bottom: 20px; display: flex; align-items: center; gap: 6px; }
.nav-back:hover { color: var(--gold); }
</style>
</head>
<body>

<!-- ACCUEIL -->
<div id="screen-accueil" class="screen">
  <div class="header">
    <div class="logo-container">
      <img src="https://egasser17.github.io/Augusta/logo.png" class="logo-img" alt="GDF" onerror="this.style.display='none'">
    </div>
    <h1>Masters Augusta</h1>
    <div class="header-sub">Golf de Fontainebleau ¬∑ 2025</div>
    <div class="header-divider"></div>
  </div>
  <div class="content" style="display:flex;flex-direction:column;justify-content:center;flex:1">
    <div style="text-align:center;margin-bottom:36px">
      <div style="font-family:'Cormorant Garamond',serif;font-size:42px;color:var(--gold);opacity:0.3;margin-bottom:8px">‚õ≥</div>
      <p style="font-family:'Cormorant Garamond',serif;font-size:16px;font-style:italic;color:var(--text-muted);line-height:1.6">S√©lectionnez vos joueurs par chapeau<br>et suivez le tournoi en temps r√©el</p>
    </div>
    <div id="msg-accueil"></div>
    <div class="input-group">
      <label class="input-label">Votre pr√©nom</label>
      <input type="text" id="nom-input" placeholder="Ex : Pierre" maxlength="30">
    </div>
    <div class="input-group">
      <label class="input-label">Code d'acc√®s</label>
      <input type="password" id="code-input" placeholder="Code personnel" maxlength="20">
    </div>
    <button class="btn btn-gold mt" onclick="handleAccueil()">Acc√©der ¬∑ Mes s√©lections</button>
    <div class="divider"></div>
    <button class="btn btn-outline" onclick="goClassement()">Consulter le classement</button>
    <button class="btn btn-ghost mt" onclick="goAdmin()" style="margin-top:8px;font-size:12px;letter-spacing:1px">Administration</button>
  </div>
</div>

<!-- SELECTION -->
<div id="screen-selection" class="screen">
  <div class="header">
    <div class="logo-container"><img src="https://egasser17.github.io/Augusta/logo.png" class="logo-img" alt="GDF" onerror="this.style.display='none'"></div>
    <h1>Mes S√©lections</h1>
    <div class="header-sub" id="selection-user-name"></div>
    <div class="header-divider"></div>
  </div>
  <div class="content">
    <div id="edit-banner" style="display:none" class="edit-banner">
      <span>‚ú¶ Mode √©dition</span>
      <button class="btn btn-ghost" style="width:auto;padding:6px 12px;font-size:11px" onclick="cancelEdit()">Annuler</button>
    </div>
    <div class="step-indicator" id="step-dots"></div>
    <div id="selection-content"></div>
    <div style="display:flex;gap:10px;margin-top:20px">
      <button class="btn btn-outline" id="btn-prev" onclick="prevChapeau()" style="flex:0 0 110px">‚Üê Retour</button>
      <button class="btn btn-gold" id="btn-next" onclick="nextChapeau()">Suivant ‚Üí</button>
    </div>
  </div>
</div>

<!-- CLASSEMENT -->
<div id="screen-classement" class="screen">
  <div class="header">
    <div class="logo-container"><img src="https://egasser17.github.io/Augusta/logo.png" class="logo-img" alt="GDF" onerror="this.style.display='none'"></div>
    <h1>Classement <span class="live-badge">Live</span></h1>
    <div class="header-sub">Masters Augusta 2025</div>
    <div class="header-divider"></div>
  </div>
  <div class="content">
    <div class="tabs">
      <div class="tab active" onclick="switchTab('classement')">Classement</div>
      <div class="tab" onclick="switchTab('scores')">Joueurs</div>
      <div class="tab" onclick="switchTab('news')">Actualit√©s</div>
    </div>
    <div id="refresh-info" class="refresh-info"></div>
    <div id="tab-classement"></div>
    <div id="tab-scores" style="display:none"></div>
    <div id="tab-news" style="display:none"></div>
    <div class="divider"></div>
    <button class="btn btn-outline" onclick="showScreen('screen-accueil')" style="font-size:13px">‚Üê Retour √† l'accueil</button>
  </div>
</div>

<!-- CONFIRMATION -->
<div id="screen-confirm" class="screen">
  <div class="header">
    <div class="logo-container"><img src="https://egasser17.github.io/Augusta/logo.png" class="logo-img" alt="GDF" onerror="this.style.display='none'"></div>
    <h1 id="confirm-title">S√©lections enregistr√©es</h1>
    <div class="header-sub" id="confirm-subtitle">Bonne chance pour les Masters !</div>
    <div class="header-divider"></div>
  </div>
  <div class="content" style="display:flex;flex-direction:column;justify-content:center;flex:1">
    <div class="ornement">‚ú¶ ‚ú¶ ‚ú¶</div>
    <div id="confirm-recap"></div>
    <div class="divider"></div>
    <button class="btn btn-gold" onclick="goClassement()">Voir le classement</button>
  </div>
</div>

<!-- ADMIN -->
<div id="screen-admin" class="screen">
  <div class="header">
    <div class="logo-container"><img src="https://egasser17.github.io/Augusta/logo.png" class="logo-img" alt="GDF" onerror="this.style.display='none'"></div>
    <h1>Administration</h1>
    <div class="header-sub">Golf de Fontainebleau</div>
    <div class="header-divider"></div>
  </div>
  <div class="content">
    <button class="nav-back" onclick="showScreen('screen-accueil')">‚Üê Retour</button>
    <div id="admin-auth" class="card">
      <div class="card-title">Acc√®s administrateur</div>
      <div class="input-group">
        <input type="password" id="admin-pwd" placeholder="Mot de passe">
      </div>
      <button class="btn btn-gold" onclick="checkAdmin()">Acc√©der</button>
    </div>
    <div id="admin-panel" style="display:none">
      <div class="card">
        <div class="card-title">Statut du tournoi</div>
        <div style="display:flex;gap:10px;margin-bottom:10px">
          <button class="btn btn-success" onclick="setTournoi('OUI')" style="flex:1">Ouvert</button>
          <button class="btn btn-danger" onclick="setTournoi('NON')" style="flex:1">Ferm√©</button>
        </div>
        <p id="statut-tournoi" style="font-size:13px;font-style:italic;color:var(--text-muted)"></p>
      </div>
      <div class="card">
        <div class="card-title">Codes participants</div>
        <p style="font-size:13px;font-style:italic;color:var(--text-muted);margin-bottom:14px">G√©rez les codes d'acc√®s personnels de chaque participant.</p>
        <div id="admin-codes-list"></div>
        <div class="divider"></div>
        <div class="card-title" style="margin-bottom:10px">Ajouter un participant</div>
        <div class="input-group">
          <label class="input-label">Pr√©nom</label>
          <input type="text" id="new-participant-nom" placeholder="Pierre">
        </div>
        <div class="input-group">
          <label class="input-label">Code d'acc√®s</label>
          <input type="text" id="new-participant-code" placeholder="Pierre2025">
        </div>
        <button class="btn btn-gold" onclick="addParticipantCode()">Ajouter ce participant</button>
        <div id="admin-codes-msg" style="margin-top:10px"></div>
      </div>
      <div class="card">
        <div class="card-title">Synchronisation ESPN</div>
        <p style="font-size:13px;font-style:italic;color:var(--text-muted);margin-bottom:12px">Scores mis √† jour automatiquement toutes les 5 minutes.</p>
        <button class="btn btn-outline" onclick="syncESPN()">Synchroniser maintenant</button>
        <div id="sync-msg" style="margin-top:10px"></div>
      </div>
    </div>
  </div>
</div>

<script>
const SUPABASE_URL='https://nhlyqglrawsvvfaymedc.supabase.co';
const SUPABASE_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5obHlxZ2xyYXdzdnZmYXltZWRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE3ODMwNjMsImV4cCI6MjA4NzM1OTA2M30.kaCGdzJ26kvgPP4EyCzU7v_7j2dJcU87yaZMtDuSHnw';
const ESPN_PROXY='https://espn-golf-proxy.edouard-gasser.workers.dev/';
const ADMIN_PWD='masters2025';
const REFRESH_INTERVAL=5*60*1000;

const JOUEURS={
  1:['Scottie Scheffler','Rory McIlroy','Jon Rahm','Tommy Fleetwood','Bryson DeChambeau','Tyrrell Hatton','Robert MacIntyre','Shane Lowry','Xander Schauffele','Collin Morikawa','Ludvig Aberg','Viktor Hovland','Joaquin Niemann','Justin Thomas','Brooks Koepka','Jordan Spieth','Justin Rose','Russell Henley','Matt Fitzpatrick','Patrick Cantlay'],
  2:['Sepp Straka','Cameron Young','Hideki Matsuyama','Adam Scott','Ryan Fox','Jason Day','J.J. Spaun','Ben Griffin','Patrick Reed','Corey Conners','Min Woo Lee','Aaron Rai','Brian Harman','Carlos Ortiz','Sam Burns','Thomas Detry','Cameron Smith','Tony Finau','Sungjae Im','Wyndham Clark'],
  3:['Rickie Fowler','Keegan Bradley','Si Woo Kim','Akshay Bhatia','Taylor Pendrith','Marc Leishman','Daniel Berger','Lucas Herbert','Harry Hall','Aldrich Potgieter','Tom Kim','Rasmus Hojgaard','Tom McKibbin','Dean Burmester','Nicolai Hojgaard','Sergio Garcia'],
  4:['Sahith Theegala','Thriston Lawrence','Harris English','Louis Oosthuizen','Byeong Hun An','Davis Thompson','Dustin Johnson','Maverick McNealy','Thorbjorn Olesen','Matt Wallace','Christiaan Bezuidenhout','Emiliano Grillo','Nick Taylor','Denny McCarthy','J.T. Poston','Tom Hoge','Chris Kirk','Martin Couvra','Nick Dunlap','Jason Kokrak','Matthieu Pavon','Stephan Jaeger','Phil Mickelson','Adrien Saddier']
};
const ALL_JOUEURS=Object.values(JOUEURS).flat();
const NB_CHAPEAUX=4;

let currentUser='',currentCode='',currentChapeau=1,isEditMode=false;
let selections={1:[],2:[],3:[],4:[]};
let espnScores={},refreshTimer=null,lastUpdated=null,newsLoaded=false;

// ---- SUPABASE ----
async function sbFetch(path,opts={}){
  const res=await fetch(SUPABASE_URL+'/rest/v1/'+path,{
    headers:{'apikey':SUPABASE_KEY,'Authorization':'Bearer '+SUPABASE_KEY,'Content-Type':'application/json','Prefer':opts.prefer||'return=representation',...opts.headers},
    ...opts
  });
  if(!res.ok){const e=await res.text();throw new Error(e);}
  if(res.status===204||res.headers.get('content-length')==='0') return null;
  const t=await res.text();return t?JSON.parse(t):null;
}

// ---- UTILS ----
function parseScore(s){if(!s||s==='E') return 0;return parseInt(s)||0;}
function normalizeName(n){return n.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'').replace(/[^a-z\s]/g,'').trim();}
function getScore(nom){const k=normalizeName(nom);return espnScores[k]!==undefined?espnScores[k]:null;}
function fmtScore(s){if(s===null||s===undefined) return 'N/A';if(s===0) return 'E';return(s>0?'+':'')+s;}
function scoreClass(s){if(s===null) return '';return s<0?'neg':s>0?'pos':'even';}

function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>{s.classList.remove('active','visible');});
  const el=document.getElementById(id);
  el.classList.add('active');
  setTimeout(()=>el.classList.add('visible'),10);
  window.scrollTo(0,0);
}
function showMsg(id,txt,type='info'){const el=document.getElementById(id);if(el) el.innerHTML=`<div class="msg ${type}">${txt}</div>`;}

// ---- ESPN ----
async function fetchESPNScores(){
  try{
    const res=await fetch(ESPN_PROXY);
    const data=await res.json();
    const map={};
    (data.scores||[]).forEach(j=>{map[normalizeName(j.nom)]=parseScore(j.score);});
    espnScores=map;lastUpdated=new Date();return true;
  }catch(e){console.error(e);return false;}
}

// ---- ACCUEIL ----
async function handleAccueil(){
  const nom=document.getElementById('nom-input').value.trim();
  const code=document.getElementById('code-input').value.trim();
  if(!nom){showMsg('msg-accueil','Veuillez entrer votre pr√©nom.','error');return;}
  if(!code){showMsg('msg-accueil','Veuillez entrer votre code d\'acc√®s.','error');return;}
  showMsg('msg-accueil','V√©rification en cours...','info');
  try{
    // V√©rifier le code dans la table codes_acces
    const codeCheck=await sbFetch(`codes_acces?nom=eq.${encodeURIComponent(nom)}&code=eq.${encodeURIComponent(code)}&select=*`);
    if(!codeCheck||codeCheck.length===0){
      showMsg('msg-accueil','Pr√©nom ou code incorrect. Contactez l\'organisateur.','error');
      return;
    }
    const cfg=await sbFetch('config?cle=eq.tournoi_ouvert&select=valeur');
    const isOpen=!cfg||!cfg[0]||cfg[0].valeur==='OUI';
    const existing=await sbFetch(`participants?nom=eq.${encodeURIComponent(nom)}&select=*`);
    currentUser=nom;currentCode=code;

    if(existing&&existing.length>0){
      if(isOpen){
        loadExistingAndEdit(existing[0]);
      } else {
        showMsg('msg-accueil','Bienvenue '+nom+' ! Les s√©lections sont ferm√©es.','info');
        setTimeout(()=>goClassement(),1500);
      }
      return;
    }
    if(!isOpen){showMsg('msg-accueil','Les s√©lections sont ferm√©es. Le tournoi a d√©but√© !','error');return;}
    selections={1:[],2:[],3:[],4:[]};currentChapeau=1;isEditMode=false;
    document.getElementById('selection-user-name').textContent=nom;
    document.getElementById('edit-banner').style.display='none';
    showScreen('screen-selection');renderChapeau();
  }catch(e){showMsg('msg-accueil','Erreur de connexion. R√©essayez.','error');console.error(e);}
}

function loadExistingAndEdit(p){
  selections={1:[p.c1a,p.c1b].filter(Boolean),2:[p.c2a,p.c2b].filter(Boolean),3:[p.c3a,p.c3b].filter(Boolean),4:[p.c4a,p.c4b].filter(Boolean)};
  isEditMode=true;currentChapeau=1;
  document.getElementById('selection-user-name').textContent=currentUser;
  document.getElementById('edit-banner').style.display='flex';
  showScreen('screen-selection');renderChapeau();
}
function cancelEdit(){isEditMode=false;showScreen('screen-accueil');}

// ---- SELECTION ----
function renderChapeau(){
  // Step dots
  let dotsHtml='';
  for(let i=1;i<=NB_CHAPEAUX;i++){
    if(i>1) dotsHtml+=`<div class="step-line"></div>`;
    const cls=i===currentChapeau?'active':(selections[i].length===2?'done':'');
    dotsHtml+=`<div class="step-dot ${cls}"></div>`;
  }
  document.getElementById('step-dots').innerHTML=dotsHtml;

  const joueurs=JOUEURS[currentChapeau],sel=selections[currentChapeau];
  let html=`<div class="card">
    <div class="chapeau-header">
      <div class="chapeau-num">${currentChapeau}</div>
      <div class="chapeau-info">
        <h3>Chapeau ${currentChapeau}</h3>
        <p>${sel.length}/2 joueurs s√©lectionn√©s</p>
      </div>
    </div>
    <div class="joueurs-grid">`;
  joueurs.forEach(j=>{
    const isSel=sel.includes(j),isDisabled=!isSel&&sel.length>=2;
    html+=`<button class="joueur-btn ${isSel?'selected':''} ${isDisabled?'disabled':''}" onclick="toggleJoueur('${j.replace(/'/g,"\\'")}',${currentChapeau})">${j}</button>`;
  });
  html+=`</div></div>`;
  document.getElementById('selection-content').innerHTML=html;
  document.getElementById('btn-prev').style.display=currentChapeau===1?'none':'block';
  const allDone=Object.values(selections).every(s=>s.length===2);
  const btn=document.getElementById('btn-next');
  if(currentChapeau===NB_CHAPEAUX){
    btn.textContent=allDone?(isEditMode?'Sauvegarder les modifications':'Valider mes s√©lections'):'Valider ‚Üí';
    btn.className='btn '+(allDone?'btn-gold':'btn-outline');
  } else {btn.textContent='Suivant ‚Üí';btn.className='btn btn-gold';}
}

function toggleJoueur(nom,chapeau){
  const sel=selections[chapeau];
  if(sel.includes(nom)) selections[chapeau]=sel.filter(j=>j!==nom);
  else if(sel.length<2) selections[chapeau].push(nom);
  renderChapeau();
}
function nextChapeau(){
  if(selections[currentChapeau].length<2){alert('Veuillez s√©lectionner 2 joueurs dans le chapeau '+currentChapeau);return;}
  if(currentChapeau<NB_CHAPEAUX){currentChapeau++;renderChapeau();}
  else submitSelections();
}
function prevChapeau(){if(currentChapeau>1){currentChapeau--;renderChapeau();}}

async function submitSelections(){
  if(!Object.values(selections).every(s=>s.length===2)){alert('2 joueurs par chapeau requis');return;}
  const data={nom:currentUser,c1a:selections[1][0],c1b:selections[1][1],c2a:selections[2][0],c2b:selections[2][1],c3a:selections[3][0],c3b:selections[3][1],c4a:selections[4][0],c4b:selections[4][1]};
  try{
    if(isEditMode){
      await sbFetch(`participants?nom=eq.${encodeURIComponent(currentUser)}`,{method:'PATCH',body:JSON.stringify(data),prefer:'return=minimal'});
      document.getElementById('confirm-title').textContent='Modifications sauvegard√©es';
      document.getElementById('confirm-subtitle').textContent='Vos s√©lections ont √©t√© mises √† jour.';
    } else {
      await sbFetch('participants',{method:'POST',body:JSON.stringify(data),prefer:'return=minimal'});
      document.getElementById('confirm-title').textContent='S√©lections enregistr√©es';
      document.getElementById('confirm-subtitle').textContent='Bonne chance pour les Masters !';
    }
    let html='';
    for(let c=1;c<=NB_CHAPEAUX;c++){
      html+=`<div class="card" style="margin-bottom:8px">
        <div class="card-title">Chapeau ${c}</div>
        <p style="font-size:15px;font-style:italic">‚õ≥ ${selections[c][0]}</p>
        <p style="font-size:15px;font-style:italic;margin-top:4px">‚õ≥ ${selections[c][1]}</p>
      </div>`;
    }
    document.getElementById('confirm-recap').innerHTML=html;
    showScreen('screen-confirm');
  }catch(e){alert('Erreur lors de la sauvegarde. R√©essayez.');console.error(e);}
}

// ---- CLASSEMENT ----
async function goClassement(){
  showScreen('screen-classement');switchTab('classement');newsLoaded=false;
  if(refreshTimer) clearInterval(refreshTimer);
  refreshTimer=setInterval(async()=>{await fetchESPNScores();await loadClassement();},REFRESH_INTERVAL);
  await loadClassement();
}

async function loadClassement(){
  document.getElementById('tab-classement').innerHTML='<div style="text-align:center;padding:40px;color:var(--text-muted);font-style:italic">Chargement...</div>';
  try{
    const [_,participants]=await Promise.all([fetchESPNScores(),sbFetch('participants?select=*&order=nom')]);
    if(lastUpdated) document.getElementById('refresh-info').textContent=`Scores ESPN mis √† jour √† ${lastUpdated.toLocaleTimeString('fr-FR')} ¬∑ Actualisation automatique`;

    const results=(participants||[]).map(p=>{
      const myJ=[p.c1a,p.c1b,p.c2a,p.c2b,p.c3a,p.c3b,p.c4a,p.c4b].filter(Boolean);
      const scores=myJ.map(j=>({nom:j,score:getScore(j)??0}));
      scores.sort((a,b)=>a.score-b.score);
      const best4=scores.slice(0,4);
      const total=best4.reduce((s,j)=>s+j.score,0);
      return{nom:p.nom,total,best4,allJoueurs:scores};
    });
    results.sort((a,b)=>a.total-b.total);

    let html='';
    results.forEach((r,i)=>{
      const nc=i===0?'gold':i===1?'silver':i===2?'bronze':'';
      const b4=r.best4.map(j=>j.nom.split(' ').pop()).join(', ');
      html+=`<div class="rank-item" onclick="toggleDetail('d${i}')">
        <div class="rank-num ${nc}">${i+1}</div>
        <div class="rank-info">
          <div class="rank-name">${r.nom}</div>
          <div class="rank-joueurs">Best 4 : ${b4}</div>
        </div>
        <div class="rank-score ${scoreClass(r.total)}">${fmtScore(r.total)}</div>
      </div>
      <div class="participant-detail" id="d${i}">
        ${r.allJoueurs.map((j,idx)=>`<div class="detail-row">
          <span class="${idx<4?'best4-name':''}"><span class="best4-star">${idx<4?'‚ú¶':''}</span>${j.nom}</span>
          <span class="${scoreClass(j.score)}" style="font-family:'Cormorant Garamond',serif;font-size:16px;font-weight:600">${fmtScore(j.score)}</span>
        </div>`).join('')}
      </div>`;
    });
    if(!html) html='<div style="text-align:center;padding:40px;color:var(--text-muted);font-style:italic">Aucun participant pour l\'instant</div>';
    document.getElementById('tab-classement').innerHTML=html;

    // Scores joueurs
    const scoresTab=ALL_JOUEURS.map(n=>({nom:n,score:getScore(n)})).filter(j=>j.score!==null).sort((a,b)=>a.score-b.score);
    let shtml='<div class="card">';
    if(scoresTab.length) scoresTab.forEach(j=>{
      shtml+=`<div class="score-item" onclick="openPlayerCard('${j.nom.replace(/'/g,"\\'")}')">
        <span style="font-size:14px;font-style:italic">‚õ≥ ${j.nom}</span>
        <div style="display:flex;align-items:center;gap:10px">
          <span style="font-family:'Cormorant Garamond',serif;font-size:16px;font-weight:600" class="${scoreClass(j.score)}">${fmtScore(j.score)}</span>
          <span style="color:var(--text-muted);font-size:14px">‚Ä∫</span>
        </div>
      </div>`;
    });
    else{
      shtml+='<div style="padding:16px 0;font-style:italic;color:var(--text-muted);font-size:14px;text-align:center">Les scores ne sont pas encore disponibles</div>';
      ALL_JOUEURS.forEach(n=>{
        shtml+=`<div class="score-item" onclick="openPlayerCard('${n.replace(/'/g,"\\'")}')">
          <span style="font-size:14px;font-style:italic">‚õ≥ ${n}</span>
          <span style="color:var(--text-muted);font-size:14px">‚Ä∫</span>
        </div>`;
      });
    }
    shtml+='</div>';
    document.getElementById('tab-scores').innerHTML=shtml;
  }catch(e){document.getElementById('tab-classement').innerHTML='<div class="msg error">Erreur de chargement</div>';console.error(e);}
}

function toggleDetail(id){document.getElementById(id).classList.toggle('open');}
function switchTab(tab){
  const tabs=['classement','scores','news'];
  document.querySelectorAll('.tab').forEach((t,i)=>t.classList.toggle('active',tabs[i]===tab));
  tabs.forEach(t=>{const el=document.getElementById('tab-'+t);if(el) el.style.display=t===tab?'block':'none';});
  if(tab==='news'&&!newsLoaded) loadNews();
}

// ---- PLAYER DATA ----
const PLAYER_DATA={
  'Scottie Scheffler':{espn_id:'9478',nationalite:'üá∫üá∏ Am√©ricain',age:27,classement_mondial:1,palmares_majeurs:2,turned_pro:2018,meilleur_resultat_masters:'Vainqueur 2022, 2024',bio:"Num√©ro 1 mondial incontest√©, Scottie Scheffler a domin√© la saison 2024 de mani√®re √©crasante. Son swing r√©gulier et sa gestion mentale exemplaire en font le grand favori d'Augusta.",statistiques:{driving_distance:'318 yards',fairways:'57%',gir:'72%',putts_par_trou:'1.71'},palmares_liste:['Masters 2022, 2024','Players Championship 2024','M√©daille d\'Or JO 2024']},
  'Rory McIlroy':{espn_id:'3470',nationalite:'üáÆüá™ Irlandais',age:35,classement_mondial:3,palmares_majeurs:4,turned_pro:2007,meilleur_resultat_masters:'2√®me 2022',bio:"Le Masters reste le seul Major qui manque √† Rory McIlroy pour compl√©ter le Grand Chelem. Cette obsession de longue date le pousse √† donner le meilleur de lui-m√™me √† Augusta chaque ann√©e.",statistiques:{driving_distance:'320 yards',fairways:'54%',gir:'70%',putts_par_trou:'1.73'},palmares_liste:['US Open 2011','The Open 2014','PGA Championship 2012, 2014']},
  'Jon Rahm':{espn_id:'9780',nationalite:'üá™üá∏ Espagnol',age:30,classement_mondial:4,palmares_majeurs:2,turned_pro:2016,meilleur_resultat_masters:'Vainqueur 2023',bio:"Le g√©ant basque a remport√© Augusta en 2023 de fa√ßon magistrale. Pass√© chez LIV Golf, il reste une menace absolue sur tous les parcours, particuli√®rement √† Augusta qu'il affectionne.",statistiques:{driving_distance:'308 yards',fairways:'58%',gir:'71%',putts_par_trou:'1.74'},palmares_liste:['Masters 2023','US Open 2021']},
  'Tommy Fleetwood':{espn_id:'5769',nationalite:'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Anglais',age:33,classement_mondial:8,palmares_majeurs:0,turned_pro:2010,meilleur_resultat_masters:'6√®me 2023',bio:"Tommy Fleetwood est l'un des meilleurs joueurs sans Major. Son swing √©l√©gant et sa r√©gularit√© en font un candidat permanent dans les grands rendez-vous du golf mondial.",statistiques:{driving_distance:'299 yards',fairways:'63%',gir:'70%',putts_par_trou:'1.75'},palmares_liste:['Abu Dhabi HSBC Championship 2017, 2019','Nedbank Golf Challenge 2023']},
  'Bryson DeChambeau':{espn_id:'5759',nationalite:'üá∫üá∏ Am√©ricain',age:31,classement_mondial:7,palmares_majeurs:2,turned_pro:2016,meilleur_resultat_masters:'T5 2020',bio:"Le scientifique du golf a r√©volutionn√© l'approche du jeu par sa transformation physique. Double vainqueur de l'US Open, DeChambeau chez LIV reste une force de la nature.",statistiques:{driving_distance:'337 yards',fairways:'48%',gir:'68%',putts_par_trou:'1.76'},palmares_liste:['US Open 2020, 2024']},
  'Tyrrell Hatton':{espn_id:'5530',nationalite:'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Anglais',age:32,classement_mondial:11,palmares_majeurs:0,turned_pro:2013,meilleur_resultat_masters:'T12 2024',bio:"Connu pour son caract√®re expressif, Tyrrell Hatton est l'un des meilleurs europ√©ens de sa g√©n√©ration. Pass√© chez LIV, son temp√©rament de comp√©titeur le rend redoutable.",statistiques:{driving_distance:'295 yards',fairways:'61%',gir:'69%',putts_par_trou:'1.76'},palmares_liste:['BMW PGA Championship 2020','Arnold Palmer Invitational 2020']},
  'Robert MacIntyre':{espn_id:'11378',nationalite:'üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø √âcossais',age:28,classement_mondial:16,palmares_majeurs:0,turned_pro:2018,meilleur_resultat_masters:'T26 2023',bio:"La grande r√©v√©lation √©cossaise du golf mondial. Vainqueur du Canadian Open 2024, MacIntyre s'impose comme l'une des figures montantes du circuit international.",statistiques:{driving_distance:'304 yards',fairways:'60%',gir:'68%',putts_par_trou:'1.76'},palmares_liste:['Canadian Open 2024']},
  'Shane Lowry':{espn_id:'4995',nationalite:'üáÆüá™ Irlandais',age:37,classement_mondial:23,palmares_majeurs:1,turned_pro:2009,meilleur_resultat_masters:'T10 2022',bio:"Champion de The Open 2019 √† Royal Portrush, Shane Lowry excelle dans les conditions difficiles. Son jeu solide et son mental de fer en font un concurrent s√©rieux.",statistiques:{driving_distance:'297 yards',fairways:'62%',gir:'69%',putts_par_trou:'1.76'},palmares_liste:['The Open Championship 2019']},
  'Xander Schauffele':{espn_id:'9003',nationalite:'üá∫üá∏ Am√©ricain',age:30,classement_mondial:2,palmares_majeurs:2,turned_pro:2015,meilleur_resultat_masters:'2√®me 2019',bio:"Longtemps le meilleur joueur sans Major, Schauffele a tout rafl√© en 2024 avec le PGA Championship et The Open. M√©daill√© d'or olympique, il est d√©sormais parmi l'√©lite mondiale.",statistiques:{driving_distance:'305 yards',fairways:'60%',gir:'72%',putts_par_trou:'1.72'},palmares_liste:['PGA Championship 2024','The Open 2024','M√©daille d\'Or JO 2020']},
  'Collin Morikawa':{espn_id:'10592',nationalite:'üá∫üá∏ Am√©ricain',age:27,classement_mondial:9,palmares_majeurs:2,turned_pro:2019,meilleur_resultat_masters:'T18 2021',bio:"L'homme aux fers de pr√©cision. Vainqueur du PGA Championship d√®s sa premi√®re participation et de The Open en 2021, Morikawa b√¢tit une carri√®re d'exception.",statistiques:{driving_distance:'296 yards',fairways:'65%',gir:'74%',putts_par_trou:'1.77'},palmares_liste:['PGA Championship 2020','The Open 2021']},
  'Ludvig Aberg':{espn_id:'11813',nationalite:'üá∏üá™ Su√©dois',age:24,classement_mondial:6,palmares_majeurs:0,turned_pro:2023,meilleur_resultat_masters:'2√®me 2024',bio:"La sensation su√©doise. Pass√© professionnel en 2023, il a imm√©diatement int√©gr√© l'√©lite et fr√¥l√© la victoire au Masters 2024. Son potentiel est consid√©r√© comme illimit√©.",statistiques:{driving_distance:'312 yards',fairways:'61%',gir:'71%',putts_par_trou:'1.74'},palmares_liste:['RSM Classic 2023','Hero World Challenge 2024']},
  'Viktor Hovland':{espn_id:'11080',nationalite:'üá≥üá¥ Norv√©gien',age:27,classement_mondial:13,palmares_majeurs:0,turned_pro:2019,meilleur_resultat_masters:'T12 2023',bio:"Premier grand champion norv√©gien de l'histoire. Vainqueur du Tour Championship 2023, il poss√®de un jeu spectaculaire mais cherche encore son premier Major.",statistiques:{driving_distance:'309 yards',fairways:'56%',gir:'69%',putts_par_trou:'1.75'},palmares_liste:['Tour Championship 2023','DP World Tour Championship 2021, 2022']},
  'Joaquin Niemann':{espn_id:'10191',nationalite:'üá®üá± Chilien',age:25,classement_mondial:20,palmares_majeurs:0,turned_pro:2018,meilleur_resultat_masters:'T21 2022',bio:"Meilleur joueur d'Am√©rique du Sud, Niemann domine chez LIV Golf. Son swing fluide et sa longueur en font un pr√©tendant s√©rieux dans tous les grands tournois.",statistiques:{driving_distance:'316 yards',fairways:'55%',gir:'69%',putts_par_trou:'1.75'},palmares_liste:['LIV Golf Jeddah 2023','Genesis Invitational 2022']},
  'Justin Thomas':{espn_id:'5467',nationalite:'üá∫üá∏ Am√©ricain',age:31,classement_mondial:18,palmares_majeurs:2,turned_pro:2013,meilleur_resultat_masters:'T4 2020',bio:"JT est l'un des meilleurs Am√©ricains de sa g√©n√©ration. Avec 2 PGA Championships, il reste une force majeure malgr√© quelques ann√©es de transition.",statistiques:{driving_distance:'305 yards',fairways:'57%',gir:'68%',putts_par_trou:'1.74'},palmares_liste:['PGA Championship 2017, 2022','FedEx Cup 2017, 2019']},
  'Brooks Koepka':{espn_id:'5765',nationalite:'üá∫üá∏ Am√©ricain',age:34,classement_mondial:25,palmares_majeurs:5,turned_pro:2012,meilleur_resultat_masters:'2√®me 2019, 2023',bio:"Le sp√©cialiste des Majeurs par excellence. Avec 5 titres en Grand Chelem, Koepka √©l√®ve syst√©matiquement son niveau dans les grands rendez-vous.",statistiques:{driving_distance:'313 yards',fairways:'55%',gir:'68%',putts_par_trou:'1.76'},palmares_liste:['US Open 2017, 2018','PGA Championship 2018, 2019']},
  'Jordan Spieth':{espn_id:'5467',nationalite:'üá∫üá∏ Am√©ricain',age:31,classement_mondial:29,palmares_majeurs:3,turned_pro:2012,meilleur_resultat_masters:'Vainqueur 2015',bio:"Le prodige texan qui a domin√© le golf en 2015. Vainqueur de 3 Majeurs avant 24 ans, il cherche √† retrouver son meilleur niveau avec un putting et une gestion mentale toujours exceptionnels.",statistiques:{driving_distance:'291 yards',fairways:'60%',gir:'68%',putts_par_trou:'1.73'},palmares_liste:['Masters 2015','US Open 2015','The Open 2017']},
  'Justin Rose':{espn_id:'569',nationalite:'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Anglais',age:44,classement_mondial:55,palmares_majeurs:1,turned_pro:1998,meilleur_resultat_masters:'2√®me 2017',bio:"L√©gende du golf europ√©en, Justin Rose continue de comp√©titionner au plus haut niveau √† 44 ans. Vainqueur de l'US Open 2013 et m√©daill√© d'or olympique en 2016.",statistiques:{driving_distance:'289 yards',fairways:'63%',gir:'67%',putts_par_trou:'1.77'},palmares_liste:['US Open 2013','M√©daille d\'Or JO 2016','FedEx Cup 2018']},
  'Russell Henley':{espn_id:'6047',nationalite:'üá∫üá∏ Am√©ricain',age:35,classement_mondial:30,palmares_majeurs:0,turned_pro:2012,meilleur_resultat_masters:'T5 2023',bio:"Joueur solide et r√©gulier, Russell Henley a failli s'imposer dans plusieurs Majeurs. Sa pr√©cision lui permet de comp√©titionner au plus haut niveau.",statistiques:{driving_distance:'295 yards',fairways:'63%',gir:'70%',putts_par_trou:'1.75'},palmares_liste:['Sony Open 2013, 2019','Houston Open 2014']},
  'Matt Fitzpatrick':{espn_id:'9131',nationalite:'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Anglais',age:30,classement_mondial:19,palmares_majeurs:1,turned_pro:2014,meilleur_resultat_masters:'T14 2022',bio:"Le pr√©cis de Sheffield. Vainqueur de l'US Open 2022, il excelle sur les parcours demandant de la rigueur. Sa gestion mentale en fait un candidat s√©rieux √† Augusta.",statistiques:{driving_distance:'293 yards',fairways:'65%',gir:'71%',putts_par_trou:'1.74'},palmares_liste:['US Open 2022','DP World Tour Championship 2020']},
  'Patrick Cantlay':{espn_id:'9036',nationalite:'üá∫üá∏ Am√©ricain',age:32,classement_mondial:15,palmares_majeurs:0,turned_pro:2012,meilleur_resultat_masters:'T5 2021',bio:"Surnomm√© 'Patty Ice' pour son sang-froid l√©gendaire, Cantlay est l'un des joueurs les plus redoutables sous pression du circuit am√©ricain.",statistiques:{driving_distance:'298 yards',fairways:'61%',gir:'71%',putts_par_trou:'1.72'},palmares_liste:['Tour Championship 2021','FedEx Cup 2021','BMW Championship 2021, 2022']},
  'Sepp Straka':{espn_id:'8961',nationalite:'üá¶üáπ Autrichien',age:31,classement_mondial:28,palmares_majeurs:0,turned_pro:2016,meilleur_resultat_masters:'T24 2023',bio:"Premier grand champion autrichien du golf moderne. Vainqueur du John Deere Classic 2022 et du Honda Classic 2024, il repr√©sente l'Autriche avec fiert√©.",statistiques:{driving_distance:'296 yards',fairways:'60%',gir:'68%',putts_par_trou:'1.76'},palmares_liste:['John Deere Classic 2022','Honda Classic 2024']},
  'Cameron Young':{espn_id:'11408',nationalite:'üá∫üá∏ Am√©ricain',age:27,classement_mondial:33,palmares_majeurs:0,turned_pro:2021,meilleur_resultat_masters:'T11 2022',bio:"L'une des plus belles r√©v√©lations r√©centes. Frappeur exceptionnel, il a failli remporter The Open en 2022 d√®s sa premi√®re participation. Son potentiel est √©norme.",statistiques:{driving_distance:'318 yards',fairways:'52%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['Fortinet Championship 2024']},
  'Hideki Matsuyama':{espn_id:'5860',nationalite:'üáØüáµ Japonais',age:32,classement_mondial:14,palmares_majeurs:1,turned_pro:2013,meilleur_resultat_masters:'Vainqueur 2021',bio:"Ic√¥ne du golf japonais, sa victoire au Masters 2021 a d√©clench√© une ferveur nationale. Son iron game remarquable et sa pr√©cision en font une menace constante √† Augusta.",statistiques:{driving_distance:'296 yards',fairways:'56%',gir:'69%',putts_par_trou:'1.76'},palmares_liste:['Masters 2021','WGC-HSBC Champions 2016, 2017']},
  'Adam Scott':{espn_id:'1225',nationalite:'üá¶üá∫ Australien',age:44,classement_mondial:35,palmares_majeurs:1,turned_pro:2000,meilleur_resultat_masters:'Vainqueur 2013',bio:"L√©gende australienne au swing le plus √©l√©gant du circuit. Vainqueur du Masters 2013, il continue de comp√©titionner au plus haut niveau √† 44 ans avec une long√©vit√© remarquable.",statistiques:{driving_distance:'291 yards',fairways:'63%',gir:'68%',putts_par_trou:'1.76'},palmares_liste:['Masters 2013','Players Championship 2004']},
  'Ryan Fox':{espn_id:'9327',nationalite:'üá≥üáø N√©o-Z√©landais',age:36,classement_mondial:40,palmares_majeurs:0,turned_pro:2012,meilleur_resultat_masters:'T30 2023',bio:"Meilleur joueur de Nouvelle-Z√©lande, Ryan Fox s'est impos√© sur le DP World Tour et continue sa progression vers l'√©lite mondiale.",statistiques:{driving_distance:'307 yards',fairways:'57%',gir:'66%',putts_par_trou:'1.77'},palmares_liste:['Alfred Dunhill Links 2021','DP World Tour Championship 2022']},
  'Jason Day':{espn_id:'3467',nationalite:'üá¶üá∫ Australien',age:37,classement_mondial:27,palmares_majeurs:1,turned_pro:2006,meilleur_resultat_masters:'2√®me 2011',bio:"Ancien num√©ro 1 mondial australien, vainqueur du PGA Championship 2015. Apr√®s des blessures au dos difficiles, il a retrouv√© un tr√®s bon niveau ces derni√®res ann√©es.",statistiques:{driving_distance:'298 yards',fairways:'58%',gir:'67%',putts_par_trou:'1.74'},palmares_liste:['PGA Championship 2015','Tour Championship 2016','FedEx Cup 2016']},
  'J.J. Spaun':{espn_id:'10166',nationalite:'üá∫üá∏ Am√©ricain',age:33,classement_mondial:50,palmares_majeurs:0,turned_pro:2014,meilleur_resultat_masters:'T40 2022',bio:"Joueur solide et r√©gulier du PGA Tour, vainqueur du Valero Texas Open 2022. Il se distingue par sa capacit√© √† performer sous pression.",statistiques:{driving_distance:'293 yards',fairways:'60%',gir:'67%',putts_par_trou:'1.77'},palmares_liste:['Valero Texas Open 2022']},
  'Ben Griffin':{espn_id:'11332',nationalite:'üá∫üá∏ Am√©ricain',age:28,classement_mondial:60,palmares_majeurs:0,turned_pro:2019,meilleur_resultat_masters:'Premi√®re participation',bio:"Jeune promesse du PGA Tour, vainqueur du Corales Puntacana Championship 2023. Il continue sa progression et pourrait cr√©er la surprise √† Augusta.",statistiques:{driving_distance:'298 yards',fairways:'61%',gir:'67%',putts_par_trou:'1.77'},palmares_liste:['Corales Puntacana Championship 2023']},
  'Patrick Reed':{espn_id:'5759',nationalite:'üá∫üá∏ Am√©ricain',age:34,classement_mondial:45,palmares_majeurs:1,turned_pro:2011,meilleur_resultat_masters:'Vainqueur 2018',bio:"Le controvers√© 'Captain America'. Vainqueur du Masters 2018, ses performances dans les Majeurs restent impressionnantes malgr√© les pol√©miques.",statistiques:{driving_distance:'292 yards',fairways:'58%',gir:'66%',putts_par_trou:'1.75'},palmares_liste:['Masters 2018']},
  'Corey Conners':{espn_id:'9126',nationalite:'üá®üá¶ Canadien',age:33,classement_mondial:38,palmares_majeurs:0,turned_pro:2015,meilleur_resultat_masters:'T8 2021',bio:"Meilleur joueur canadien de sa g√©n√©ration, reconnu comme l'un des plus pr√©cis en termes de coups d'approche. Son GIR exceptionnel lui offre de nombreuses opportunit√©s.",statistiques:{driving_distance:'294 yards',fairways:'66%',gir:'73%',putts_par_trou:'1.78'},palmares_liste:['Valero Texas Open 2019']},
  'Min Woo Lee':{espn_id:'11122',nationalite:'üá¶üá∫ Australien',age:26,classement_mondial:26,palmares_majeurs:0,turned_pro:2019,meilleur_resultat_masters:'T16 2023',bio:"L'√©lectrisant Australien au swing spectaculaire. Fr√®re de Minjee Lee, il impressionne par ses performances r√©guli√®res sur les deux grands circuits mondiaux.",statistiques:{driving_distance:'306 yards',fairways:'55%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['Scottish Open 2021','Ras Al Khaimah Championship 2024']},
  'Aaron Rai':{espn_id:'10906',nationalite:'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Anglais',age:29,classement_mondial:42,palmares_majeurs:0,turned_pro:2015,meilleur_resultat_masters:'T20 2024',bio:"Belle surprise du golf anglais, vainqueur du Wyndham Championship 2024. Sa carte sur le PGA Tour lui ouvre de nouvelles perspectives.",statistiques:{driving_distance:'291 yards',fairways:'64%',gir:'69%',putts_par_trou:'1.76'},palmares_liste:['Wyndham Championship 2024','Hong Kong Open 2019']},
  'Brian Harman':{espn_id:'1225',nationalite:'üá∫üá∏ Am√©ricain',age:37,classement_mondial:22,palmares_majeurs:1,turned_pro:2010,meilleur_resultat_masters:'T20 2021',bio:"La sensation de The Open 2023 √† Hoylake. Ce G√©orgien discret a remport√© le Claret Jug de fa√ßon dominante, prouvant sa capacit√© √† performer dans les grands moments.",statistiques:{driving_distance:'282 yards',fairways:'65%',gir:'68%',putts_par_trou:'1.73'},palmares_liste:['The Open Championship 2023']},
  'Carlos Ortiz':{espn_id:'9403',nationalite:'üá≤üáΩ Mexicain',age:33,classement_mondial:80,palmares_majeurs:0,turned_pro:2012,meilleur_resultat_masters:'T17 2021',bio:"Meilleur joueur mexicain de l'histoire du golf. Pass√© chez LIV Golf, il repr√©sente fi√®rement son pays et reste capable de belles performances.",statistiques:{driving_distance:'294 yards',fairways:'60%',gir:'66%',putts_par_trou:'1.77'},palmares_liste:['Houston Open 2020']},
  'Sam Burns':{espn_id:'9938',nationalite:'üá∫üá∏ Am√©ricain',age:28,classement_mondial:21,palmares_majeurs:0,turned_pro:2018,meilleur_resultat_masters:'T24 2022',bio:"L'un des joueurs les plus r√©guliers avec plusieurs victoires cons√©cutives au m√™me tournoi. Son iron long exceptionnel lui permet de dominer sur les grands parcours.",statistiques:{driving_distance:'302 yards',fairways:'59%',gir:'70%',putts_par_trou:'1.74'},palmares_liste:['Valspar Championship 2021, 2022, 2023']},
  'Thomas Detry':{espn_id:'9791',nationalite:'üáßüá™ Belge',age:31,classement_mondial:48,palmares_majeurs:0,turned_pro:2015,meilleur_resultat_masters:'Premi√®re participation',bio:"La fiert√© du golf belge. Vainqueur de l'Arnold Palmer Invitational 2024, il s'est impos√© sur le PGA Tour et repr√©sente l'Europe avec talent.",statistiques:{driving_distance:'300 yards',fairways:'59%',gir:'68%',putts_par_trou:'1.76'},palmares_liste:['Arnold Palmer Invitational 2024']},
  'Cameron Smith':{espn_id:'9131',nationalite:'üá¶üá∫ Australien',age:31,classement_mondial:24,palmares_majeurs:1,turned_pro:2013,meilleur_resultat_masters:'2√®me 2022',bio:"Champion de The Open 2022 et l'un des meilleurs putteurs du monde. Pass√© chez LIV Golf, il y domine r√©guli√®rement avec son √©quipe Ripper GC.",statistiques:{driving_distance:'295 yards',fairways:'58%',gir:'67%',putts_par_trou:'1.70'},palmares_liste:['The Open Championship 2022','Players Championship 2022']},
  'Tony Finau':{espn_id:'6456',nationalite:'üá∫üá∏ Am√©ricain',age:35,classement_mondial:36,palmares_majeurs:0,turned_pro:2007,meilleur_resultat_masters:'T5 2019',bio:"Le g√©ant am√©ricain d'origine tongienne. Longtemps le meilleur joueur sans victoire, il a encha√Æn√© les succ√®s depuis 2021 gr√¢ce √† l'un des meilleurs services du circuit.",statistiques:{driving_distance:'313 yards',fairways:'56%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['3M Open 2021, 2022','Houston Open 2021']},
  'Sungjae Im':{espn_id:'10220',nationalite:'üá∞üá∑ Sud-Cor√©en',age:26,classement_mondial:32,palmares_majeurs:0,turned_pro:2018,meilleur_resultat_masters:'2√®me 2020',bio:"√âtoile montante du golf cor√©en. Finaliste au Masters 2020, il est reconnu pour son volume de jeu extraordinaire et sa r√©gularit√© impressionnante.",statistiques:{driving_distance:'295 yards',fairways:'62%',gir:'70%',putts_par_trou:'1.75'},palmares_liste:['Honda Classic 2020','AT&T Pebble Beach 2023']},
  'Wyndham Clark':{espn_id:'11119',nationalite:'üá∫üá∏ Am√©ricain',age:31,classement_mondial:17,palmares_majeurs:1,turned_pro:2017,meilleur_resultat_masters:'T15 2023',bio:"La surprise de l'US Open 2023. Longtemps pass√© sous les radars, Clark s'est r√©v√©l√© au plus haut niveau et cherche √† confirmer son statut.",statistiques:{driving_distance:'308 yards',fairways:'57%',gir:'68%',putts_par_trou:'1.75'},palmares_liste:['US Open 2023','Wells Fargo Championship 2023']},
  'Rickie Fowler':{espn_id:'4848',nationalite:'üá∫üá∏ Am√©ricain',age:36,classement_mondial:44,palmares_majeurs:0,turned_pro:2009,meilleur_resultat_masters:'T5 2018',bio:"L'un des joueurs les plus populaires malgr√© l'absence de Major. Sa tenue orange est devenue iconique et son talent ind√©niable le maintient parmi les pr√©tendants.",statistiques:{driving_distance:'298 yards',fairways:'59%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['Players Championship 2015']},
  'Keegan Bradley':{espn_id:'4513',nationalite:'üá∫üá∏ Am√©ricain',age:38,classement_mondial:53,palmares_majeurs:1,turned_pro:2008,meilleur_resultat_masters:'T16 2012',bio:"Capitaine de la Ryder Cup am√©ricaine et vainqueur du PGA Championship 2011. Son enthousiasme communicatif et son exp√©rience en font un leader naturel.",statistiques:{driving_distance:'295 yards',fairways:'60%',gir:'66%',putts_par_trou:'1.76'},palmares_liste:['PGA Championship 2011']},
  'Si Woo Kim':{espn_id:'9561',nationalite:'üá∞üá∑ Sud-Cor√©en',age:29,classement_mondial:56,palmares_majeurs:0,turned_pro:2014,meilleur_resultat_masters:'T10 2021',bio:"Vainqueur du Players Championship 2017, l'un des tournois les plus prestigieux. Le Cor√©en est capable de grandes performances dans les rendez-vous majeurs.",statistiques:{driving_distance:'294 yards',fairways:'59%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['Players Championship 2017']},
  'Akshay Bhatia':{espn_id:'11535',nationalite:'üá∫üá∏ Am√©ricain',age:22,classement_mondial:31,palmares_majeurs:0,turned_pro:2021,meilleur_resultat_masters:'Premi√®re participation',bio:"La grande sensation am√©ricaine d'origine indienne. √Ä 22 ans, plusieurs victoires sur le PGA Tour et un talent qui le place parmi les grandes futures stars du golf.",statistiques:{driving_distance:'311 yards',fairways:'54%',gir:'66%',putts_par_trou:'1.75'},palmares_liste:['Barracuda Championship 2023','Valero Texas Open 2024']},
  'Taylor Pendrith':{espn_id:'10630',nationalite:'üá®üá¶ Canadien',age:33,classement_mondial:43,palmares_majeurs:0,turned_pro:2015,meilleur_resultat_masters:'Premi√®re participation',bio:"L'un des longs frappeurs les plus impressionnants du circuit. Le Canadien a d√©croch√© ses premi√®res victoires et continue de s'affirmer au plus haut niveau.",statistiques:{driving_distance:'321 yards',fairways:'51%',gir:'65%',putts_par_trou:'1.77'},palmares_liste:['CJ Cup Byron Nelson 2024']},
  'Marc Leishman':{espn_id:'3836',nationalite:'üá¶üá∫ Australien',age:41,classement_mondial:90,palmares_majeurs:0,turned_pro:2007,meilleur_resultat_masters:'T4 2017',bio:"Le v√©t√©ran australien connu pour sa r√©gularit√© et son calme. Il a failli s'imposer dans plusieurs Majeurs et continue de comp√©titionner chez LIV Golf.",statistiques:{driving_distance:'295 yards',fairways:'61%',gir:'67%',putts_par_trou:'1.77'},palmares_liste:['Arnold Palmer Invitational 2018']},
  'Daniel Berger':{espn_id:'9564',nationalite:'üá∫üá∏ Am√©ricain',age:31,classement_mondial:70,palmares_majeurs:0,turned_pro:2014,meilleur_resultat_masters:'T13 2021',bio:"Joueur talentueux qui revient en force apr√®s des blessures. Vainqueur de 4 titres sur le PGA Tour, il cherche √† retrouver son meilleur niveau.",statistiques:{driving_distance:'302 yards',fairways:'59%',gir:'67%',putts_par_trou:'1.75'},palmares_liste:['AT&T Pebble Beach 2021']},
  'Lucas Herbert':{espn_id:'10484',nationalite:'üá¶üá∫ Australien',age:29,classement_mondial:65,palmares_majeurs:0,turned_pro:2016,meilleur_resultat_masters:'T30 2022',bio:"Belle promesse du golf australien, vainqueur du British Masters et du Dubai Desert Classic. Il cherche √† confirmer au niveau mondial.",statistiques:{driving_distance:'296 yards',fairways:'60%',gir:'66%',putts_par_trou:'1.77'},palmares_liste:['British Masters 2021','Dubai Desert Classic 2021']},
  'Harry Hall':{espn_id:'11216',nationalite:'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Anglais',age:27,classement_mondial:85,palmares_majeurs:0,turned_pro:2019,meilleur_resultat_masters:'Premi√®re participation',bio:"Jeune promesse anglaise du golf, repr√©sentant la nouvelle g√©n√©ration du golf britannique avec un jeu prometteur et une belle r√©gularit√©.",statistiques:{driving_distance:'291 yards',fairways:'62%',gir:'66%',putts_par_trou:'1.76'},palmares_liste:['Corales Puntacana Championship 2022']},
  'Aldrich Potgieter':{espn_id:'11922',nationalite:'üáøüá¶ Sud-Africain',age:19,classement_mondial:75,palmares_majeurs:0,turned_pro:2023,meilleur_resultat_masters:'Premi√®re participation',bio:"√Ä 19 ans, ce ph√©nom√®ne sud-africain frappe la balle √† des distances extraordinaires. Consid√©r√© comme l'un des plus grands talents de sa g√©n√©ration.",statistiques:{driving_distance:'340 yards',fairways:'47%',gir:'63%',putts_par_trou:'1.77'},palmares_liste:['Isuzu Championship 2023']},
  'Tom Kim':{espn_id:'11193',nationalite:'üá∞üá∑ Sud-Cor√©en',age:22,classement_mondial:37,palmares_majeurs:0,turned_pro:2022,meilleur_resultat_masters:'T19 2023',bio:"La sensation cor√©enne du PGA Tour. Deux victoires d√®s sa premi√®re saison compl√®te et un sang-froid impressionnant pour son jeune √¢ge.",statistiques:{driving_distance:'295 yards',fairways:'60%',gir:'68%',putts_par_trou:'1.74'},palmares_liste:['Shriners Children\'s Open 2022','Wyndham Championship 2022']},
  'Rasmus Hojgaard':{espn_id:'11421',nationalite:'üá©üá∞ Danois',age:23,classement_mondial:34,palmares_majeurs:0,turned_pro:2019,meilleur_resultat_masters:'Premi√®re participation',bio:"Le jumeau danois qui s'impose progressivement parmi l'√©lite mondiale. Vainqueur sur le DP World Tour, il repr√©sente la nouvelle g√©n√©ration du golf europ√©en.",statistiques:{driving_distance:'301 yards',fairways:'58%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['Estrella Damm N.A. Andaluc√≠a Masters 2024']},
  'Tom McKibbin':{espn_id:'11850',nationalite:'üáÆüá™ Irlandais',age:22,classement_mondial:62,palmares_majeurs:0,turned_pro:2022,meilleur_resultat_masters:'Premi√®re participation',bio:"Prot√©g√© de Rory McIlroy, cette jeune √©toile irlandaise impressionne sur le DP World Tour et cherche √† s'imposer au niveau mondial.",statistiques:{driving_distance:'295 yards',fairways:'60%',gir:'66%',putts_par_trou:'1.77'},palmares_liste:['Abu Dhabi HSBC Championship 2024']},
  'Dean Burmester':{espn_id:'9685',nationalite:'üáøüá¶ Sud-Africain',age:34,classement_mondial:68,palmares_majeurs:0,turned_pro:2013,meilleur_resultat_masters:'T35 2023',bio:"L'un des meilleurs Sud-Africains de sa g√©n√©ration. Long frappeur et joueur agressif, vainqueur de plusieurs titres sur le DP World Tour.",statistiques:{driving_distance:'313 yards',fairways:'54%',gir:'65%',putts_par_trou:'1.77'},palmares_liste:['Joburg Open 2019','Magical Kenya Open 2022']},
  'Nicolai Hojgaard':{espn_id:'11422',nationalite:'üá©üá∞ Danois',age:23,classement_mondial:39,palmares_majeurs:0,turned_pro:2019,meilleur_resultat_masters:'T12 2024',bio:"Le jumeau de Rasmus, joueur √©l√©gant et complet. Sa belle performance au Masters 2024 confirme son potentiel parmi l'√©lite mondiale.",statistiques:{driving_distance:'299 yards',fairways:'60%',gir:'68%',putts_par_trou:'1.75'},palmares_liste:['Italian Open 2021']},
  'Sergio Garcia':{espn_id:'1120',nationalite:'üá™üá∏ Espagnol',age:45,classement_mondial:95,palmares_majeurs:1,turned_pro:1999,meilleur_resultat_masters:'Vainqueur 2017',bio:"L√©gende espagnole du golf avec plus de 35 ans de carri√®re. El Ni√±o a remport√© le Masters 2017 apr√®s des ann√©es de tentatives. Une figure embl√©matique du golf mondial.",statistiques:{driving_distance:'291 yards',fairways:'61%',gir:'66%',putts_par_trou:'1.76'},palmares_liste:['Masters 2017','Players Championship 2008']},
  'Sahith Theegala':{espn_id:'11088',nationalite:'üá∫üá∏ Am√©ricain',age:27,classement_mondial:46,palmares_majeurs:0,turned_pro:2021,meilleur_resultat_masters:'T20 2023',bio:"L'une des plus belles r√©v√©lations r√©centes. D'origine indienne, ce Californien impressionne par son jeu explosif et ses remont√©es spectaculaires.",statistiques:{driving_distance:'307 yards',fairways:'56%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['Fortinet Championship 2023']},
  'Thriston Lawrence':{espn_id:'11219',nationalite:'üáøüá¶ Sud-Africain',age:27,classement_mondial:72,palmares_majeurs:0,turned_pro:2018,meilleur_resultat_masters:'Premi√®re participation',bio:"Belle promesse sud-africaine, vainqueur sur le DP World Tour. Il cherche √† s'imposer au niveau mondial apr√®s sa qualification pour Augusta.",statistiques:{driving_distance:'292 yards',fairways:'61%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['Joburg Open 2022']},
  'Harris English':{espn_id:'5408',nationalite:'üá∫üá∏ Am√©ricain',age:35,classement_mondial:49,palmares_majeurs:0,turned_pro:2011,meilleur_resultat_masters:'T10 2013',bio:"Joueur solide connu pour sa r√©gularit√©. Sa victoire m√©morable au Travelers Championship 2021 en prolongations illustre sa capacit√© √† performer sous pression.",statistiques:{driving_distance:'297 yards',fairways:'61%',gir:'68%',putts_par_trou:'1.75'},palmares_liste:['Travelers Championship 2021','Sony Open 2014, 2021']},
  'Louis Oosthuizen':{espn_id:'3836',nationalite:'üáøüá¶ Sud-Africain',age:41,classement_mondial:58,palmares_majeurs:1,turned_pro:2002,meilleur_resultat_masters:'2√®me 2012',bio:"Champion √©l√©gant de The Open 2010. Ce Sud-Africain a √©t√© finaliste dans plusieurs Majeurs, t√©moignant de sa capacit√© √† jouer son meilleur golf dans les grands moments.",statistiques:{driving_distance:'293 yards',fairways:'62%',gir:'68%',putts_par_trou:'1.75'},palmares_liste:['The Open Championship 2010']},
  'Byeong Hun An':{espn_id:'8854',nationalite:'üá∞üá∑ Sud-Cor√©en',age:32,classement_mondial:55,palmares_majeurs:0,turned_pro:2012,meilleur_resultat_masters:'T28 2022',bio:"Champion du monde amateur en 2009, il a poursuivi une belle carri√®re professionnelle avec une r√©gularit√© exemplaire sur le circuit international.",statistiques:{driving_distance:'291 yards',fairways:'62%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['BMW PGA Championship 2015']},
  'Davis Thompson':{espn_id:'11626',nationalite:'üá∫üá∏ Am√©ricain',age:24,classement_mondial:64,palmares_majeurs:0,turned_pro:2022,meilleur_resultat_masters:'Premi√®re participation',bio:"Jeune promesse am√©ricaine, vainqueur du John Deere Classic 2023. Ce G√©orgien poursuit sa progression vers les sommets du golf mondial.",statistiques:{driving_distance:'299 yards',fairways:'60%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['John Deere Classic 2023']},
  'Dustin Johnson':{espn_id:'3843',nationalite:'üá∫üá∏ Am√©ricain',age:40,classement_mondial:20,palmares_majeurs:2,turned_pro:2007,meilleur_resultat_masters:'Vainqueur 2020',bio:"Ancien num√©ro 1 mondial, vainqueur du Masters 2020 et de l'US Open 2016. Pass√© chez LIV Golf, son talent naturel exceptionnel en fait toujours un candidat s√©rieux.",statistiques:{driving_distance:'314 yards',fairways:'56%',gir:'68%',putts_par_trou:'1.76'},palmares_liste:['Masters 2020','US Open 2016','FedEx Cup 2020']},
  'Maverick McNealy':{espn_id:'10471',nationalite:'üá∫üá∏ Am√©ricain',age:29,classement_mondial:52,palmares_majeurs:0,turned_pro:2018,meilleur_resultat_masters:'Premi√®re participation',bio:"Issu de Stanford, Maverick McNealy allie intelligence et talent sportif. Vainqueur sur le PGA Tour, il s'impose progressivement parmi les meilleurs Am√©ricains.",statistiques:{driving_distance:'291 yards',fairways:'63%',gir:'69%',putts_par_trou:'1.75'},palmares_liste:['Rocket Classic 2023']},
  'Thorbjorn Olesen':{espn_id:'6542',nationalite:'üá©üá∞ Danois',age:34,classement_mondial:66,palmares_majeurs:0,turned_pro:2011,meilleur_resultat_masters:'T20 2018',bio:"Le v√©t√©ran danois du golf europ√©en. Membre de la Ryder Cup europ√©enne, il retrouve son meilleur niveau apr√®s des ann√©es difficiles.",statistiques:{driving_distance:'295 yards',fairways:'60%',gir:'66%',putts_par_trou:'1.77'},palmares_liste:['Turkish Airlines Open 2017']},
  'Matt Wallace':{espn_id:'10364',nationalite:'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Anglais',age:34,classement_mondial:78,palmares_majeurs:0,turned_pro:2013,meilleur_resultat_masters:'Premi√®re participation',bio:"Joueur anglais comp√©titif sur le DP World Tour. Vainqueur de plusieurs titres en Europe, il cherche √† s'imposer d√©finitivement au niveau mondial.",statistiques:{driving_distance:'296 yards',fairways:'60%',gir:'65%',putts_par_trou:'1.77'},palmares_liste:['Hero Indian Open 2018']},
  'Christiaan Bezuidenhout':{espn_id:'10823',nationalite:'üáøüá¶ Sud-Africain',age:30,classement_mondial:57,palmares_majeurs:0,turned_pro:2016,meilleur_resultat_masters:'T35 2022',bio:"L'un des meilleurs Sud-Africains de sa g√©n√©ration. Vainqueur √† plusieurs reprises sur le DP World Tour, notamment du South African Open.",statistiques:{driving_distance:'293 yards',fairways:'63%',gir:'68%',putts_par_trou:'1.75'},palmares_liste:['South African Open 2020, 2021']},
  'Emiliano Grillo':{espn_id:'9573',nationalite:'üá¶üá∑ Argentin',age:31,classement_mondial:61,palmares_majeurs:0,turned_pro:2014,meilleur_resultat_masters:'T24 2016',bio:"La fiert√© du golf argentin. R√©gulier sur le PGA Tour depuis plusieurs ann√©es, il apporte une touche de classe avec son jeu √©l√©gant et pr√©cis.",statistiques:{driving_distance:'289 yards',fairways:'64%',gir:'68%',putts_par_trou:'1.76'},palmares_liste:['Frys.com Open 2015']},
  'Nick Taylor':{espn_id:'5486',nationalite:'üá®üá¶ Canadien',age:36,classement_mondial:41,palmares_majeurs:0,turned_pro:2012,meilleur_resultat_masters:'T28 2023',bio:"Sa victoire spectaculaire au Canadian Open 2023, avec un eagle m√©morable au playoff, reste l'un des moments les plus forts du golf canadien.",statistiques:{driving_distance:'295 yards',fairways:'61%',gir:'67%',putts_par_trou:'1.75'},palmares_liste:['Canadian Open 2023','AT&T Pebble Beach 2014']},
  'Denny McCarthy':{espn_id:'9156',nationalite:'üá∫üá∏ Am√©ricain',age:31,classement_mondial:47,palmares_majeurs:0,turned_pro:2015,meilleur_resultat_masters:'T30 2023',bio:"Reconnu comme l'un des meilleurs putteurs du PGA Tour. Sa pr√©cision l√©gendaire sur les greens compense un jeu long moins explosif.",statistiques:{driving_distance:'287 yards',fairways:'64%',gir:'67%',putts_par_trou:'1.70'},palmares_liste:['RBC Heritage 2024']},
  'J.T. Poston':{espn_id:'10162',nationalite:'üá∫üá∏ Am√©ricain',age:30,classement_mondial:54,palmares_majeurs:0,turned_pro:2016,meilleur_resultat_masters:'T30 2022',bio:"Joueur solide et r√©gulier du PGA Tour. Vainqueur du Wyndham Championship et du John Deere Classic, il continue sa progression.",statistiques:{driving_distance:'289 yards',fairways:'65%',gir:'68%',putts_par_trou:'1.74'},palmares_liste:['Wyndham Championship 2019','John Deere Classic 2023']},
  'Tom Hoge':{espn_id:'9116',nationalite:'üá∫üá∏ Am√©ricain',age:34,classement_mondial:67,palmares_majeurs:0,turned_pro:2013,meilleur_resultat_masters:'T35 2022',bio:"Joueur pr√©cis et r√©gulier du PGA Tour. Vainqueur de l'AT&T Pebble Beach 2022, il est reconnu pour sa constance sur les grands parcours.",statistiques:{driving_distance:'290 yards',fairways:'64%',gir:'68%',putts_par_trou:'1.76'},palmares_liste:['AT&T Pebble Beach Pro-Am 2022']},
  'Chris Kirk':{espn_id:'4394',nationalite:'üá∫üá∏ Am√©ricain',age:38,classement_mondial:71,palmares_majeurs:0,turned_pro:2008,meilleur_resultat_masters:'T20 2024',bio:"Une belle histoire de comeback. Apr√®s sa lutte contre l'addiction, Kirk est revenu au plus haut niveau pour remporter le Honda Classic 2023.",statistiques:{driving_distance:'288 yards',fairways:'63%',gir:'67%',putts_par_trou:'1.75'},palmares_liste:['Honda Classic 2023']},
  'Martin Couvra':{espn_id:'11901',nationalite:'üá´üá∑ Fran√ßais',age:25,classement_mondial:88,palmares_majeurs:0,turned_pro:2021,meilleur_resultat_masters:'Premi√®re participation',bio:"La r√©v√©lation du golf fran√ßais. Ce jeune talent hexagonal a d√©croch√© sa qualification pour les Masters et repr√©sente fi√®rement la France √† Augusta.",statistiques:{driving_distance:'293 yards',fairways:'60%',gir:'65%',putts_par_trou:'1.77'},palmares_liste:['Open de France 2024']},
  'Nick Dunlap':{espn_id:'11923',nationalite:'üá∫üá∏ Am√©ricain',age:20,classement_mondial:59,palmares_majeurs:0,turned_pro:2024,meilleur_resultat_masters:'Premi√®re participation',bio:"√Ä 20 ans, ce ph√©nom√®ne a remport√© l'American Express en amateur avant de passer professionnel. Champion amateur en titre, il est l'un des plus grands espoirs du golf mondial.",statistiques:{driving_distance:'299 yards',fairways:'59%',gir:'68%',putts_par_trou:'1.74'},palmares_liste:['The American Express 2024','US Amateur 2023']},
  'Jason Kokrak':{espn_id:'6229',nationalite:'üá∫üá∏ Am√©ricain',age:39,classement_mondial:100,palmares_majeurs:0,turned_pro:2008,meilleur_resultat_masters:'T15 2021',bio:"Long frappeur am√©ricain pass√© chez LIV Golf. Vainqueur de 3 titres sur le PGA Tour, il apporte son exp√©rience et sa puissance de frappe.",statistiques:{driving_distance:'314 yards',fairways:'53%',gir:'65%',putts_par_trou:'1.77'},palmares_liste:['CJ Cup 2020','Houston Open 2020']},
  'Matthieu Pavon':{espn_id:'11214',nationalite:'üá´üá∑ Fran√ßais',age:31,classement_mondial:45,palmares_majeurs:0,turned_pro:2015,meilleur_resultat_masters:'T28 2024',bio:"Premier Fran√ßais √† remporter un tournoi du PGA Tour depuis 1999. Sa victoire au Farmers Insurance Open 2024 a fait sensation et il porte les couleurs fran√ßaises avec fiert√©.",statistiques:{driving_distance:'299 yards',fairways:'61%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['Farmers Insurance Open 2024']},
  'Stephan Jaeger':{espn_id:'9410',nationalite:'üá©üá™ Allemand',age:36,classement_mondial:63,palmares_majeurs:0,turned_pro:2012,meilleur_resultat_masters:'Premi√®re participation',bio:"Meilleur joueur allemand de sa g√©n√©ration. Apr√®s des ann√©es sur les circuits mineurs, il s'est impos√© sur le PGA Tour et repr√©sente l'Allemagne avec fiert√©.",statistiques:{driving_distance:'292 yards',fairways:'62%',gir:'67%',putts_par_trou:'1.76'},palmares_liste:['Fortinet Championship 2022','Houston Open 2023']},
  'Phil Mickelson':{espn_id:'1003',nationalite:'üá∫üá∏ Am√©ricain',age:54,classement_mondial:150,palmares_majeurs:6,turned_pro:1992,meilleur_resultat_masters:'Vainqueur 2004, 2006, 2010',bio:"L√©gende vivante avec 6 Majeurs. Ce gaucher spectaculaire a remport√© le PGA Championship 2021 √† 50 ans, devenant le plus vieux vainqueur d'un Major de l'histoire.",statistiques:{driving_distance:'295 yards',fairways:'54%',gir:'65%',putts_par_trou:'1.77'},palmares_liste:['Masters 2004, 2006, 2010','PGA Championship 2005, 2021','The Open 2013']},
  'Adrien Saddier':{espn_id:'9285',nationalite:'üá´üá∑ Fran√ßais',age:33,classement_mondial:92,palmares_majeurs:0,turned_pro:2013,meilleur_resultat_masters:'Premi√®re participation',bio:"Repr√©sentant du golf fran√ßais sur la sc√®ne internationale. Actif sur le DP World Tour, il a d√©croch√© sa qualification pour les Masters et repr√©sente l'Hexagone avec fiert√©.",statistiques:{driving_distance:'288 yards',fairways:'62%',gir:'65%',putts_par_trou:'1.77'},palmares_liste:['Open de Bretagne 2019']}
};

// ---- PLAYER CARD ----
function openPlayerCard(nom){
  const modal=document.createElement('div');
  modal.className='player-modal';
  modal.id='player-modal';
  document.body.appendChild(modal);
  modal.addEventListener('click',e=>{if(e.target===modal) closePlayerCard();});
  const score=getScore(nom);
  const chapeau=Object.entries(JOUEURS).find(([c,js])=>js.includes(nom))?.[0]||'?';
  const info=PLAYER_DATA[nom]||null;
  if(info) info.photo_url=`https://a.espncdn.com/combiner/i?img=/i/headshots/golf/players/full/${info.espn_id}.png&w=200&h=146`;
  renderPlayerCard(info,nom,score,chapeau);
}

function renderPlayerCard(info,nom,score,chapeau){
  const modal=document.getElementById('player-modal');
  if(!modal) return;
  const sc=fmtScore(score),cls=scoreClass(score);
  if(!info){
    modal.innerHTML=`<div class="player-sheet" style="position:relative">
      <button class="player-close" onclick="closePlayerCard()">‚úï</button>
      <div class="player-header">
        <div class="player-photo-placeholder">üèåÔ∏è</div>
        <div><div class="player-name-h">${nom}</div><div class="player-name-sub">Chapeau ${chapeau}</div></div>
      </div>
      <div class="player-stats-grid">
        <div class="pstat"><div class="pstat-val ${cls}">${sc}</div><div class="pstat-lbl">Score Masters</div></div>
        <div class="pstat"><div class="pstat-val">C${chapeau}</div><div class="pstat-lbl">Chapeau</div></div>
      </div></div>`;
    return;
  }
  const photoHtml=info.photo_url
    ?`<img class="player-photo" src="${info.photo_url}" onerror="this.outerHTML='<div class=\\'player-photo-placeholder\\'>üèåÔ∏è</div>'" alt="${nom}">`
    :`<div class="player-photo-placeholder">üèåÔ∏è</div>`;
  const s=info.statistiques||{};
  const palmares=(info.palmares_liste||[]).slice(0,5).map(p=>`<div class="palmares-item">üèÜ ${p}</div>`).join('');
  modal.innerHTML=`<div class="player-sheet" style="position:relative">
    <button class="player-close" onclick="closePlayerCard()">‚úï</button>
    <div class="player-header">
      ${photoHtml}
      <div>
        <div class="player-name-h">${nom}</div>
        <div class="player-name-sub">${info.nationalite||''} ¬∑ ${info.age?info.age+' ans':''}</div>
        <div style="font-size:12px;color:var(--gold);margin-top:3px;letter-spacing:1px">Chapeau ${chapeau}</div>
      </div>
    </div>
    <div class="player-stats-grid">
      <div class="pstat"><div class="pstat-val ${cls}">${sc}</div><div class="pstat-lbl">Score Masters</div></div>
      <div class="pstat"><div class="pstat-val">#${info.classement_mondial||'?'}</div><div class="pstat-lbl">Classement</div></div>
      <div class="pstat"><div class="pstat-val">${info.palmares_majeurs||0}</div><div class="pstat-lbl">Majeurs</div></div>
      <div class="pstat"><div class="pstat-val">${info.turned_pro||'?'}</div><div class="pstat-lbl">Pro depuis</div></div>
    </div>
    ${info.meilleur_resultat_masters?`<div style="background:rgba(201,168,76,0.1);border:1px solid rgba(201,168,76,0.25);border-radius:2px;padding:10px;margin-bottom:14px;font-size:13px;text-align:center;font-style:italic">‚õ≥ Masters : <strong style="color:var(--gold)">${info.meilleur_resultat_masters}</strong></div>`:''}
    <p class="player-bio">${info.bio||''}</p>
    ${s.driving_distance?`<div class="player-stats-grid" style="margin-bottom:14px">
      <div class="pstat"><div class="pstat-val" style="font-size:15px">${s.driving_distance}</div><div class="pstat-lbl">Drive</div></div>
      <div class="pstat"><div class="pstat-val" style="font-size:15px">${s.fairways||'?'}</div><div class="pstat-lbl">Fairways</div></div>
      <div class="pstat"><div class="pstat-val" style="font-size:15px">${s.gir||'?'}</div><div class="pstat-lbl">GIR</div></div>
      <div class="pstat"><div class="pstat-val" style="font-size:15px">${s.putts_par_trou||'?'}</div><div class="pstat-lbl">Putts/trou</div></div>
    </div>`:''}
    ${palmares?`<div style="margin-top:4px"><div style="font-family:'Cormorant Garamond',serif;font-size:12px;letter-spacing:2px;text-transform:uppercase;color:var(--gold);margin-bottom:10px">Palmar√®s</div>${palmares}</div>`:''}
  </div>`;
}
function closePlayerCard(){const m=document.getElementById('player-modal');if(m) m.remove();}

// ---- NEWS ----
async function loadNews(){
  newsLoaded=true;
  const el=document.getElementById('tab-news');
  el.innerHTML=`<div style="text-align:center;padding:40px 20px">
    <div class="typing-dots"><span>‚óè</span><span>‚óè</span><span>‚óè</span></div>
    <p style="color:var(--text-muted);font-size:14px;font-style:italic;margin-top:14px">Recherche des derni√®res actualit√©s golf...</p>
  </div>`;
  const joueursList=ALL_JOUEURS.join(', ');
  const prompt=`Tu es journaliste golf expert. Recherche les derni√®res actualit√©s du golf mondial. Couvre : Masters 2025 (Augusta, favoris), PGA Tour (r√©sultats r√©cents), LIV Golf, Rumeurs/transferts, Stats/performances. Joueurs √† mentionner si possible : ${joueursList}. Retourne UNIQUEMENT JSON sans markdown : {"sections":[{"titre":"Masters 2025","type":"masters","articles":[{"titre":"Titre en fran√ßais","contenu":"3-4 phrases d√©taill√©es","tags":["Masters"]}]}]}. 5 sections, 2 articles chacune.`;
  try{
    const response=await fetch(ESPN_PROXY+'claude',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'claude-sonnet-4-20250514',max_tokens:1000,tools:[{type:'web_search_20250305',name:'web_search'}],messages:[{role:'user',content:prompt}]})});
    const data=await response.json();
    const txt=(data.content||[]).filter(b=>b.type==='text').map(b=>b.text).join('');
    const clean=txt.replace(/```json|```/g,'').trim();
    renderNews(JSON.parse(clean).sections||[]);
  }catch(e){
    console.error(e);
    renderNews([
      {titre:'Masters 2025',type:'masters',articles:[{titre:'Augusta se pr√©pare pour son tournoi le plus attendu',contenu:"Le Masters Tournament 2025 se d√©roulera du 10 au 13 avril √† Augusta National. Scottie Scheffler arrive en grand favori apr√®s une saison 2024 √©crasante. Rory McIlroy tentera une nouvelle fois de compl√©ter son Grand Chelem en carri√®re.",tags:['Masters','Scheffler','McIlroy']},{titre:'Les favoris 2025 : qui peut remporter la Veste Verte ?',contenu:"Scheffler, McIlroy, Schauffele et √Öberg sont les grands favoris cette ann√©e. Jon Rahm, vainqueur sortant, revient d√©fendre son titre apr√®s une ann√©e chez LIV Golf.",tags:['Masters','Favoris']}]},
      {titre:'PGA Tour',type:'pga',articles:[{titre:'La saison 2025 offre d√©j√† son lot de surprises',contenu:"Plusieurs joueurs de premier rang peinent √† confirmer tandis que de jeunes talents s'affirment. La course aux FedEx Cup points s'annonce serr√©e.",tags:['PGA Tour']},{titre:'Les Fran√ßais brillent sur le circuit am√©ricain',contenu:"Matthieu Pavon, vainqueur du Farmers Insurance Open 2024, continue de repr√©senter fi√®rement le golf fran√ßais. Adrien Saddier et Martin Couvra poursuivent leur progression.",tags:['PGA Tour','Pavon']}]},
      {titre:'LIV Golf',type:'liv',articles:[{titre:'LIV Golf maintient la pression sur le golf mondial',contenu:"La ligue dissidente continue d'attirer l'attention avec ses formats innovants. Dustin Johnson, Jon Rahm et Phil Mickelson restent des figures embl√©matiques.",tags:['LIV Golf']},{titre:'L\'avenir du golf mondial en question',contenu:"Les n√©gociations entre PGA Tour et LIV Golf semblent stagner. L'incertitude persiste quant √† une √©ventuelle r√©unification du golf professionnel mondial.",tags:['LIV Golf','PGA Tour']}]}
    ]);
  }
}

function renderNews(sections){
  const el=document.getElementById('tab-news');
  if(!sections||!sections.length){el.innerHTML='<div style="text-align:center;padding:40px;color:var(--text-muted);font-style:italic">Aucune actualit√© disponible</div>';return;}
  let html='';
  sections.forEach(s=>{
    html+=`<div class="news-section-title">${s.titre}</div>`;
    (s.articles||[]).forEach(a=>{
      const tags=(a.tags||[]).map(t=>`<span class="news-tag ${s.type||''}">${t}</span>`).join(' ');
      html+=`<div class="news-card">${tags}<h4>${a.titre}</h4><p>${a.contenu}</p></div>`;
    });
  });
  html+=`<div style="text-align:center;margin-top:16px">
    <button class="btn btn-outline" onclick="newsLoaded=false;loadNews()" style="font-size:13px;letter-spacing:1px">Rafra√Æchir les actualit√©s</button>
  </div>`;
  el.innerHTML=html;
}

// ---- ADMIN ----
function goAdmin(){showScreen('screen-admin');}
function checkAdmin(){
  if(document.getElementById('admin-pwd').value===ADMIN_PWD){
    document.getElementById('admin-auth').style.display='none';
    document.getElementById('admin-panel').style.display='block';
    loadStatutTournoi();loadAdminCodes();
  }else alert('Mot de passe incorrect');
}
async function loadStatutTournoi(){
  try{const cfg=await sbFetch('config?cle=eq.tournoi_ouvert&select=valeur');const val=cfg&&cfg[0]?cfg[0].valeur:'OUI';document.getElementById('statut-tournoi').textContent=`Statut actuel : ${val==='OUI'?'Ouvert aux s√©lections':'S√©lections ferm√©es'}`;}catch(e){}
}
async function setTournoi(val){
  try{await sbFetch('config?cle=eq.tournoi_ouvert',{method:'PATCH',body:JSON.stringify({valeur:val}),prefer:'return=minimal'});loadStatutTournoi();alert('Statut mis √† jour !');}
  catch(e){try{await sbFetch('config',{method:'POST',body:JSON.stringify({cle:'tournoi_ouvert',valeur:val})});loadStatutTournoi();}catch(e2){alert('Erreur');}}
}
async function loadAdminCodes(){
  try{
    const codes=await sbFetch('codes_acces?select=*&order=nom');
    const el=document.getElementById('admin-codes-list');
    if(!codes||!codes.length){el.innerHTML='<p style="font-size:13px;font-style:italic;color:var(--text-muted)">Aucun participant enregistr√©.</p>';return;}
    el.innerHTML=codes.map(c=>`<div class="admin-code-row">
      <span style="font-style:italic">${c.nom}</span>
      <span class="code-badge">${c.code}</span>
      <button onclick="deleteCode('${c.nom.replace(/'/g,"\\'")}','${c.code}')" style="background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:16px">‚úï</button>
    </div>`).join('');
  }catch(e){document.getElementById('admin-codes-list').innerHTML='<p style="font-size:13px;color:#e09090">Erreur de chargement</p>';}
}
async function addParticipantCode(){
  const nom=document.getElementById('new-participant-nom').value.trim();
  const code=document.getElementById('new-participant-code').value.trim();
  if(!nom||!code){showMsg('admin-codes-msg','Pr√©nom et code requis','error');return;}
  try{
    await sbFetch('codes_acces',{method:'POST',body:JSON.stringify({nom,code}),prefer:'return=minimal'});
    document.getElementById('new-participant-nom').value='';
    document.getElementById('new-participant-code').value='';
    showMsg('admin-codes-msg',`‚úì ${nom} ajout√© avec le code ${code}`,'success');
    loadAdminCodes();
  }catch(e){showMsg('admin-codes-msg','Erreur ‚Äî ce participant existe peut-√™tre d√©j√†','error');console.error(e);}
}
async function deleteCode(nom,code){
  if(!confirm(`Supprimer ${nom} ?`)) return;
  try{
    await sbFetch(`codes_acces?nom=eq.${encodeURIComponent(nom)}`,{method:'DELETE',prefer:'return=minimal'});
    loadAdminCodes();
  }catch(e){alert('Erreur lors de la suppression');}
}
async function syncESPN(){
  showMsg('sync-msg','Synchronisation...','info');
  const ok=await fetchESPNScores();
  showMsg('sync-msg',ok?`‚úì ${Object.keys(espnScores).length} joueurs synchronis√©s`:'Erreur de synchronisation',ok?'success':'error');
}

// Init
document.addEventListener('DOMContentLoaded',()=>{
  showScreen('screen-accueil');
});
</script>
</body>
</html>
